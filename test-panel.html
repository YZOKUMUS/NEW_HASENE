<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hasene Oyunu - Test Paneli</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .stat-box {
            background: rgba(255,255,255,0.2);
            padding: 15px 25px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        .stat-box .number {
            font-size: 2em;
            font-weight: bold;
        }
        
        .controls {
            padding: 20px 30px;
            background: #f8f9fa;
            border-bottom: 2px solid #e0e0e0;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .filter-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .filter-group label {
            font-weight: 600;
            color: #555;
        }
        
        select, input[type="text"] {
            padding: 8px 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }
        
        select:focus, input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .btn-warning {
            background: #ffc107;
            color: #333;
        }
        
        .btn-info {
            background: #17a2b8;
            color: white;
        }
        
        .test-content {
            padding: 30px;
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .category-section {
            margin-bottom: 40px;
        }
        
        .category-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            user-select: none;
        }
        
        .category-header:hover {
            opacity: 0.9;
        }
        
        .category-header h2 {
            font-size: 1.3em;
        }
        
        .category-progress {
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }
        
        .test-group {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }
        
        .test-group-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .test-group-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #333;
        }
        
        .test-group-progress {
            font-size: 0.9em;
            color: #666;
        }
        
        .test-item {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }
        
        .test-item:hover {
            border-color: #667eea;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }
        
        .test-item.completed {
            background: #d4edda;
            border-color: #28a745;
        }
        
        .test-item.failed {
            background: #f8d7da;
            border-color: #dc3545;
        }
        
        .test-item.pending {
            background: #fff3cd;
            border-color: #ffc107;
        }
        
        .test-checkbox {
            width: 24px;
            height: 24px;
            cursor: pointer;
            margin-top: 2px;
            flex-shrink: 0;
        }
        
        .test-content-wrapper {
            flex: 1;
        }
        
        .test-step {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 5px;
        }
        
        .test-description {
            color: #555;
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .test-expected {
            background: #e7f3ff;
            padding: 8px 12px;
            border-radius: 6px;
            margin-top: 8px;
            font-size: 0.9em;
            color: #0066cc;
        }
        
        .test-control {
            color: #666;
            font-size: 0.85em;
            margin-top: 5px;
            font-style: italic;
        }
        
        .test-notes {
            margin-top: 10px;
            width: 100%;
        }
        
        .test-notes textarea {
            width: 100%;
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 0.9em;
            font-family: inherit;
            resize: vertical;
            min-height: 60px;
        }
        
        .test-notes textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .status-pending {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-completed {
            background: #d4edda;
            color: #155724;
        }
        
        .status-failed {
            background: #f8d7da;
            color: #721c24;
        }
        
        .export-section {
            padding: 20px 30px;
            background: #f8f9fa;
            border-top: 2px solid #e0e0e0;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .search-box {
            flex: 1;
            min-width: 200px;
        }
        
        .search-box input {
            width: 100%;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .filter-group {
                flex-direction: column;
                align-items: stretch;
            }
            
            .test-item {
                flex-direction: column;
            }
        }
        
        .hidden {
            display: none !important;
        }
        
        .collapse-icon {
            transition: transform 0.3s;
        }
        
        .category-section.collapsed .collapse-icon {
            transform: rotate(-90deg);
        }
        
        .category-section.collapsed .test-group {
            display: none;
        }
        
        .help-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 10000;
            overflow-y: auto;
        }
        
        .help-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .help-content {
            background: white;
            border-radius: 16px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            padding: 40px;
            position: relative;
        }
        
        .help-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #dc3545;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            font-weight: bold;
        }
        
        .help-close:hover {
            background: #c82333;
        }
        
        .help-section {
            margin-bottom: 30px;
        }
        
        .help-section h2 {
            color: #667eea;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .help-section h3 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        .help-section ol, .help-section ul {
            margin-left: 20px;
            line-height: 1.8;
        }
        
        .help-section li {
            margin-bottom: 10px;
        }
        
        .example-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }
        
        .example-box strong {
            color: #667eea;
        }
        
        .status-select {
            padding: 5px 10px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 0.9em;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ª Hasene Oyunu - Test Paneli</h1>
            <p>Test senaryolarÄ±nÄ± kontrol edin ve ilerlemenizi takip edin</p>
            <div class="stats">
                <div class="stat-box">
                    <div class="number" id="totalTests">0</div>
                    <div>Toplam Test</div>
                </div>
                <div class="stat-box">
                    <div class="number" id="completedTests">0</div>
                    <div>Tamamlanan</div>
                </div>
                <div class="stat-box">
                    <div class="number" id="failedTests">0</div>
                    <div>BaÅŸarÄ±sÄ±z</div>
                </div>
                <div class="stat-box">
                    <div class="number" id="pendingTests">0</div>
                    <div>Bekleyen</div>
                </div>
                <div class="stat-box">
                    <div class="number" id="progressPercent">0%</div>
                    <div>Ä°lerleme</div>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <div class="filter-group">
                <label>Kategori:</label>
                <select id="categoryFilter">
                    <option value="all">TÃ¼m Kategoriler</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Durum:</label>
                <select id="statusFilter">
                    <option value="all">TÃ¼m Durumlar</option>
                    <option value="pending">Bekleyen</option>
                    <option value="completed">Tamamlanan</option>
                    <option value="failed">BaÅŸarÄ±sÄ±z</option>
                </select>
            </div>
            <div class="filter-group search-box">
                <input type="text" id="searchBox" placeholder="ğŸ” Test ara...">
            </div>
            <button class="btn btn-primary" onclick="exportReport()">ğŸ“Š Rapor OluÅŸtur</button>
            <button class="btn btn-success" onclick="exportScreenshot()">ğŸ“¸ Ekran GÃ¶rÃ¼ntÃ¼sÃ¼</button>
            <button class="btn btn-warning" onclick="resetAll()">ğŸ”„ SÄ±fÄ±rla</button>
            <button class="btn btn-info" onclick="saveProgress()">ğŸ’¾ Kaydet</button>
            <button class="btn btn-primary" onclick="showHelp()">â“ NasÄ±l KullanÄ±lÄ±r?</button>
        </div>
        
        <div class="test-content" id="testContent">
            <!-- Test iÃ§eriÄŸi buraya yÃ¼klenecek -->
        </div>
        
        <div class="export-section">
            <button class="btn btn-primary" onclick="copyReport()">ğŸ“‹ Raporu Kopyala</button>
            <button class="btn btn-success" onclick="downloadReport()">ğŸ’¾ Raporu Ä°ndir</button>
            <button class="btn btn-info" onclick="showFailedOnly()">âŒ Sadece BaÅŸarÄ±sÄ±zlarÄ± GÃ¶ster</button>
        </div>
    </div>
    
    <!-- YardÄ±m ModalÄ± -->
    <div id="helpModal" class="help-modal">
        <div class="help-content">
            <button class="help-close" onclick="closeHelp()">Ã—</button>
            <h1 style="color: #667eea; margin-bottom: 20px;">ğŸ“– Test Paneli KullanÄ±m KÄ±lavuzu</h1>
            
            <div class="help-section">
                <h2>ğŸ¯ Genel BakÄ±ÅŸ</h2>
                <p>Bu test paneli, Hasene oyununun tÃ¼m fonksiyonlarÄ±nÄ± sistematik olarak test etmenizi saÄŸlar. Her test adÄ±mÄ±nÄ± kontrol edebilir, sonuÃ§larÄ± kaydedebilir ve sorunlarÄ± not edebilirsiniz.</p>
            </div>
            
            <div class="help-section">
                <h2>ğŸš€ HÄ±zlÄ± BaÅŸlangÄ±Ã§</h2>
                <ol>
                    <li><strong>Test panelini aÃ§Ä±n:</strong> <code>test-panel.html</code> dosyasÄ±nÄ± tarayÄ±cÄ±da aÃ§Ä±n</li>
                    <li><strong>Test yapÄ±n:</strong> Oyunu aÃ§Ä±n ve test senaryolarÄ±nÄ± takip edin</li>
                    <li><strong>Durum gÃ¼ncelleyin:</strong> Her test iÃ§in durum seÃ§in (Bekleyen/TamamlandÄ±/BaÅŸarÄ±sÄ±z)</li>
                    <li><strong>Not ekleyin:</strong> Sorun varsa notlar bÃ¶lÃ¼mÃ¼ne yazÄ±n</li>
                    <li><strong>Rapor oluÅŸturun:</strong> Test bittiÄŸinde raporu oluÅŸturup paylaÅŸÄ±n</li>
                </ol>
            </div>
            
            <div class="help-section">
                <h2>ğŸ“ Ã–rnek KullanÄ±m Senaryosu</h2>
                <div class="example-box">
                    <h3>Ã–rnek: "Kelime Ã‡evir Oyunu" Testi</h3>
                    <p><strong>AdÄ±m 1:</strong> Ana menÃ¼den "Kelime Ã‡evir" modunu seÃ§in</p>
                    <p><strong>AdÄ±m 2:</strong> Test panelinde "OYUN MODLARI" kategorisini bulun</p>
                    <p><strong>AdÄ±m 3:</strong> "Test 2: Kelime Ã‡evir Oyunu" bÃ¶lÃ¼mÃ¼nÃ¼ aÃ§Ä±n</p>
                    <p><strong>AdÄ±m 4:</strong> Her adÄ±mÄ± test edin:</p>
                    <ul>
                        <li>"Ana menÃ¼den Kelime Ã‡evir modunu seÃ§" â†’ Oyunu aÃ§tÄ±nÄ±z mÄ±? â†’ Durum: <strong>TamamlandÄ±</strong> âœ“</li>
                        <li>"Zorluk seviyesi seÃ§" â†’ Seviye seÃ§tiniz mi? â†’ Durum: <strong>TamamlandÄ±</strong> âœ“</li>
                        <li>"ArapÃ§a kelime gÃ¶rÃ¼nÃ¼yor mu?" â†’ GÃ¶rÃ¼nÃ¼yor mu? â†’ Durum: <strong>TamamlandÄ±</strong> âœ“</li>
                        <li>"4 seÃ§enek gÃ¶rÃ¼nÃ¼yor mu?" â†’ <strong>SORUN VAR!</strong> â†’ Durum: <strong>BaÅŸarÄ±sÄ±z</strong> âœ—</li>
                        <li>Notlar bÃ¶lÃ¼mÃ¼ne yazÄ±n: <em>"Sadece 3 seÃ§enek gÃ¶rÃ¼nÃ¼yor, 4. seÃ§enek eksik"</em></li>
                    </ul>
                </div>
            </div>
            
            <div class="help-section">
                <h2>ğŸ¨ Test DurumlarÄ±</h2>
                <ul>
                    <li><strong>â³ Bekleyen (SarÄ±):</strong> HenÃ¼z test edilmedi</li>
                    <li><strong>âœ… TamamlandÄ± (YeÅŸil):</strong> Test baÅŸarÄ±lÄ±, sorun yok</li>
                    <li><strong>âŒ BaÅŸarÄ±sÄ±z (KÄ±rmÄ±zÄ±):</strong> Test baÅŸarÄ±sÄ±z, sorun var</li>
                </ul>
                <p><strong>Not:</strong> Checkbox'Ä± iÅŸaretlemek otomatik olarak durumu "TamamlandÄ±" yapar.</p>
            </div>
            
            <div class="help-section">
                <h2>ğŸ” Filtreleme ve Arama</h2>
                <ul>
                    <li><strong>Kategori Filtresi:</strong> Belirli bir kategoriye odaklanÄ±n (Ã¶rn: "VERÄ° SÄ°STEMÄ°")</li>
                    <li><strong>Durum Filtresi:</strong> Sadece baÅŸarÄ±sÄ±z testleri gÃ¶rmek iÃ§in "BaÅŸarÄ±sÄ±z" seÃ§in</li>
                    <li><strong>Arama:</strong> Test adÄ±, aÃ§Ä±klama veya kontrol noktasÄ±nda arama yapÄ±n</li>
                </ul>
            </div>
            
            <div class="help-section">
                <h2>ğŸ“Š Rapor OluÅŸturma</h2>
                <h3>Rapor OluÅŸtur Butonu:</h3>
                <ol>
                    <li>"ğŸ“Š Rapor OluÅŸtur" butonuna tÄ±klayÄ±n</li>
                    <li>Rapor otomatik olarak indirilir</li>
                    <li>Raporu aÃ§Ä±p kontrol edin</li>
                </ol>
                
                <h3>Raporu Kopyala Butonu:</h3>
                <ol>
                    <li>"ğŸ“‹ Raporu Kopyala" butonuna tÄ±klayÄ±n</li>
                    <li>Rapor panoya kopyalanÄ±r</li>
                    <li>ChatGPT veya baÅŸka bir yere yapÄ±ÅŸtÄ±rÄ±n</li>
                </ol>
                
                <div class="example-box">
                    <strong>Ã–rnek Rapor Ä°Ã§eriÄŸi:</strong><br>
                    <pre style="background: white; padding: 10px; border-radius: 4px; overflow-x: auto;">
ğŸ§ª HASENE OYUNU - TEST RAPORU
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Tarih: 25.12.2024 14:30:00
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š GENEL Ä°STATÄ°STÄ°KLER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Toplam Test: 220
âœ… Tamamlanan: 180 (82%)
âŒ BaÅŸarÄ±sÄ±z: 5 (2%)
â³ Bekleyen: 35 (16%)

ğŸ“ OYUN MODLARI
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Tamamlanan: 45/50
BaÅŸarÄ±sÄ±z: 2

  Test 2: Kelime Ã‡evir Oyunu
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Durum: 8/10 âœ“ | 1 âœ—

    âŒ [AdÄ±m 3] 4 seÃ§enek gÃ¶rÃ¼nÃ¼yor mu?
      Beklenen: 4 seÃ§enek gÃ¶rÃ¼nÃ¼yor mu?
      Notlar: Sadece 3 seÃ§enek gÃ¶rÃ¼nÃ¼yor
                    </pre>
                </div>
            </div>
            
            <div class="help-section">
                <h2>ğŸ’¾ Otomatik KayÄ±t</h2>
                <p>Test ilerlemeniz otomatik olarak tarayÄ±cÄ±nÄ±zÄ±n localStorage'Ä±na kaydedilir. Bu sayede:</p>
                <ul>
                    <li>SayfayÄ± kapatsanÄ±z bile ilerlemeniz korunur</li>
                    <li>FarklÄ± cihazlarda aynÄ± tarayÄ±cÄ±yÄ± kullanÄ±rsanÄ±z verileriniz gÃ¶rÃ¼nÃ¼r</li>
                    <li>Test durumlarÄ± ve notlarÄ±nÄ±z kaybolmaz</li>
                </ul>
                <p><strong>Not:</strong> "ğŸ”„ SÄ±fÄ±rla" butonu tÃ¼m ilerlemeyi siler (onay ister).</p>
            </div>
            
            <div class="help-section">
                <h2>âŒ Sorun Bildirimi</h2>
                <h3>Bir test baÅŸarÄ±sÄ±z olduÄŸunda:</h3>
                <ol>
                    <li>Test durumunu <strong>"BaÅŸarÄ±sÄ±z"</strong> olarak iÅŸaretleyin</li>
                    <li>Notlar bÃ¶lÃ¼mÃ¼ne detaylÄ± aÃ§Ä±klama yazÄ±n:
                        <ul>
                            <li>Ne oldu?</li>
                            <li>Ne bekleniyordu?</li>
                            <li>Hangi adÄ±mda sorun Ã§Ä±ktÄ±?</li>
                            <li>Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ varsa belirtin</li>
                        </ul>
                    </li>
                    <li>Raporu oluÅŸturup paylaÅŸÄ±n</li>
                </ol>
                
                <div class="example-box">
                    <strong>Ä°yi bir sorun bildirimi Ã¶rneÄŸi:</strong><br>
                    <em>"Kelime Ã‡evir oyununda soru yÃ¼klendiÄŸinde sadece 3 seÃ§enek gÃ¶rÃ¼nÃ¼yor. 4. seÃ§enek eksik. Beklenen: 4 seÃ§enek gÃ¶rÃ¼nmeli. AdÄ±m 3'te sorun tespit edildi. Ekran gÃ¶rÃ¼ntÃ¼sÃ¼: [ekran_goruntusu.png]"</em>
                </div>
            </div>
            
            <div class="help-section">
                <h2>ğŸ¯ Ä°puÃ§larÄ±</h2>
                <ul>
                    <li>âœ… Testleri sÄ±rayla yapÄ±n, atlamayÄ±n</li>
                    <li>âœ… Her test iÃ§in beklenen sonucu kontrol edin</li>
                    <li>âœ… Sorun varsa hemen not alÄ±n, unutmayÄ±n</li>
                    <li>âœ… Kategorilere gÃ¶re test edin (daha organize)</li>
                    <li>âœ… DÃ¼zenli olarak rapor oluÅŸturup yedekleyin</li>
                    <li>âœ… BaÅŸarÄ±sÄ±z testleri filtreleyerek hÄ±zlÄ±ca gÃ¶zden geÃ§irin</li>
                </ul>
            </div>
            
            <div class="help-section">
                <h2>ğŸ“¸ Ekran GÃ¶rÃ¼ntÃ¼sÃ¼ Alma</h2>
                <ul>
                    <li><strong>Windows:</strong> Win + Shift + S (Ekran AlÄ±ntÄ±sÄ± AracÄ±)</li>
                    <li><strong>Mac:</strong> Cmd + Shift + 4</li>
                    <li><strong>TarayÄ±cÄ±:</strong> F12 â†’ Console â†’ Screenshot</li>
                </ul>
                <p>Ekran gÃ¶rÃ¼ntÃ¼lerini notlar bÃ¶lÃ¼mÃ¼nde belirtin veya raporla birlikte paylaÅŸÄ±n.</p>
            </div>
        </div>
    </div>
    
    <script>
        let testData = [];
        let filteredData = [];
        
        // CSV dosyasÄ±nÄ± yÃ¼kle
        async function loadTestData() {
            try {
                const response = await fetch('TEST_SENARYOSU_TAM.csv');
                const text = await response.text();
                const lines = text.split('\n').filter(line => line.trim());
                
                // Ä°lk satÄ±rÄ± atla (baÅŸlÄ±k)
                for (let i = 1; i < lines.length; i++) {
                    const line = lines[i];
                    // CSV parse (basit - virgÃ¼lle ayrÄ±lmÄ±ÅŸ)
                    const parts = parseCSVLine(line);
                    if (parts.length >= 9) {
                        testData.push({
                            kategori: parts[0] || '',
                            testNo: parts[1] || '',
                            testAdi: parts[2] || '',
                            adim: parts[3] || '',
                            adimAciklama: parts[4] || '',
                            beklenen: parts[5] || '',
                            kontrol: parts[6] || '',
                            durum: parts[7] || 'pending',
                            notlar: parts[8] || ''
                        });
                    }
                }
                
                // Kategorileri topla
                const categories = [...new Set(testData.map(t => t.kategori).filter(Boolean))];
                const categorySelect = document.getElementById('categoryFilter');
                categories.forEach(cat => {
                    const option = document.createElement('option');
                    option.value = cat;
                    option.textContent = cat;
                    categorySelect.appendChild(option);
                });
                
                // localStorage'dan kaydedilmiÅŸ durumlarÄ± yÃ¼kle
                loadSavedProgress();
                
                // Testleri render et
                renderTests();
                updateStats();
            } catch (error) {
                console.error('Test verileri yÃ¼klenirken hata:', error);
                document.getElementById('testContent').innerHTML = 
                    '<div style="padding: 40px; text-align: center; color: #dc3545;">' +
                    '<h2>âŒ Hata: Test verileri yÃ¼klenemedi</h2>' +
                    '<p>TEST_SENARYOSU_TAM.csv dosyasÄ±nÄ±n mevcut olduÄŸundan emin olun.</p>' +
                    '</div>';
            }
        }
        
        // CSV satÄ±rÄ±nÄ± parse et (basit versiyon - tÄ±rnak iÃ§indeki virgÃ¼lleri dikkate alÄ±r)
        function parseCSVLine(line) {
            const result = [];
            let current = '';
            let inQuotes = false;
            
            for (let i = 0; i < line.length; i++) {
                const char = line[i];
                
                if (char === '"') {
                    inQuotes = !inQuotes;
                } else if (char === ',' && !inQuotes) {
                    result.push(current.trim());
                    current = '';
                } else {
                    current += char;
                }
            }
            result.push(current.trim());
            return result;
        }
        
        // Testleri render et
        function renderTests() {
            const container = document.getElementById('testContent');
            container.innerHTML = '';
            
            // Filtreleme
            filteredData = testData.filter(item => {
                const categoryMatch = document.getElementById('categoryFilter').value === 'all' || 
                                    item.kategori === document.getElementById('categoryFilter').value;
                const statusMatch = document.getElementById('statusFilter').value === 'all' || 
                                  item.durum === document.getElementById('statusFilter').value;
                const searchTerm = document.getElementById('searchBox').value.toLowerCase();
                const searchMatch = !searchTerm || 
                                  item.testAdi.toLowerCase().includes(searchTerm) ||
                                  item.adimAciklama.toLowerCase().includes(searchTerm) ||
                                  item.kontrol.toLowerCase().includes(searchTerm);
                
                return categoryMatch && statusMatch && searchMatch;
            });
            
            // Kategorilere gÃ¶re grupla
            const grouped = {};
            filteredData.forEach(item => {
                if (!grouped[item.kategori]) {
                    grouped[item.kategori] = {};
                }
                if (!grouped[item.kategori][item.testNo]) {
                    grouped[item.kategori][item.testNo] = {
                        testAdi: item.testAdi,
                        items: []
                    };
                }
                grouped[item.kategori][item.testNo].items.push(item);
            });
            
            // Render
            Object.keys(grouped).sort().forEach(kategori => {
                const categorySection = document.createElement('div');
                categorySection.className = 'category-section';
                categorySection.dataset.category = kategori;
                
                const categoryHeader = document.createElement('div');
                categoryHeader.className = 'category-header';
                categoryHeader.onclick = () => {
                    categorySection.classList.toggle('collapsed');
                };
                
                const categoryStats = getCategoryStats(grouped[kategori]);
                categoryHeader.innerHTML = `
                    <div>
                        <span class="collapse-icon">â–¼</span>
                        <h2>${kategori}</h2>
                    </div>
                    <div class="category-progress">
                        ${categoryStats.completed}/${categoryStats.total} TamamlandÄ±
                        (${Math.round(categoryStats.percent)}%)
                    </div>
                `;
                
                categorySection.appendChild(categoryHeader);
                
                Object.keys(grouped[kategori]).sort((a, b) => parseInt(a) - parseInt(b)).forEach(testNo => {
                    const testGroup = grouped[kategori][testNo];
                    const groupDiv = document.createElement('div');
                    groupDiv.className = 'test-group';
                    
                    const groupHeader = document.createElement('div');
                    groupHeader.className = 'test-group-header';
                    const groupStats = getGroupStats(testGroup.items);
                    groupHeader.innerHTML = `
                        <div class="test-group-title">
                            Test ${testNo}: ${testGroup.testAdi}
                        </div>
                        <div class="test-group-progress">
                            ${groupStats.completed}/${groupStats.total} âœ“ | 
                            ${groupStats.failed} âœ— | 
                            ${groupStats.pending} â³
                        </div>
                    `;
                    groupDiv.appendChild(groupHeader);
                    
                    testGroup.items.forEach((item, index) => {
                        const itemDiv = document.createElement('div');
                        itemDiv.className = `test-item ${item.durum}`;
                        itemDiv.dataset.index = testData.indexOf(item);
                        
                        const checkbox = document.createElement('input');
                        checkbox.type = 'checkbox';
                        checkbox.className = 'test-checkbox';
                        checkbox.checked = item.durum === 'completed';
                        checkbox.onchange = (e) => {
                            if (e.target.checked) {
                                item.durum = 'completed';
                            } else {
                                item.durum = 'pending';
                            }
                            updateItemStatus(itemDiv, item);
                            updateStats();
                            saveProgress();
                        };
                        
                        const contentWrapper = document.createElement('div');
                        contentWrapper.className = 'test-content-wrapper';
                        
                        let contentHTML = '';
                        if (item.adim) {
                            contentHTML += `<div class="test-step">AdÄ±m ${item.adim}</div>`;
                        }
                        contentHTML += `<div class="test-description">${item.adimAciklama || item.kontrol}</div>`;
                        
                        if (item.beklenen) {
                            contentHTML += `<div class="test-expected">âœ… Beklenen: ${item.beklenen}</div>`;
                        }
                        
                        if (item.kontrol) {
                            contentHTML += `<div class="test-control">ğŸ” Kontrol: ${item.kontrol}</div>`;
                        }
                        
                        const notesDiv = document.createElement('div');
                        notesDiv.className = 'test-notes';
                        const notesTextarea = document.createElement('textarea');
                        notesTextarea.placeholder = 'NotlarÄ±nÄ±zÄ± buraya yazÄ±n...';
                        notesTextarea.value = item.notlar || '';
                        notesTextarea.onchange = (e) => {
                            item.notlar = e.target.value;
                            saveProgress();
                        };
                        notesDiv.appendChild(notesTextarea);
                        
                        const statusSelect = document.createElement('select');
                        statusSelect.className = 'status-select';
                        statusSelect.innerHTML = `
                            <option value="pending" ${item.durum === 'pending' ? 'selected' : ''}>â³ Bekleyen</option>
                            <option value="completed" ${item.durum === 'completed' ? 'selected' : ''}>âœ… TamamlandÄ±</option>
                            <option value="failed" ${item.durum === 'failed' ? 'selected' : ''}>âŒ BaÅŸarÄ±sÄ±z</option>
                        `;
                        statusSelect.onchange = (e) => {
                            item.durum = e.target.value;
                            checkbox.checked = e.target.value === 'completed';
                            updateItemStatus(itemDiv, item);
                            updateStats();
                            saveProgress();
                        };
                        
                        contentWrapper.innerHTML = contentHTML;
                        contentWrapper.appendChild(statusSelect);
                        contentWrapper.appendChild(notesDiv);
                        
                        itemDiv.appendChild(checkbox);
                        itemDiv.appendChild(contentWrapper);
                        groupDiv.appendChild(itemDiv);
                    });
                    
                    categorySection.appendChild(groupDiv);
                });
                
                container.appendChild(categorySection);
            });
        }
        
        function updateItemStatus(itemDiv, item) {
            itemDiv.className = `test-item ${item.durum}`;
        }
        
        function getCategoryStats(groups) {
            let total = 0;
            let completed = 0;
            Object.values(groups).forEach(group => {
                group.items.forEach(item => {
                    total++;
                    if (item.durum === 'completed') completed++;
                });
            });
            return { total, completed, percent: total > 0 ? (completed / total) * 100 : 0 };
        }
        
        function getGroupStats(items) {
            const stats = {
                total: items.length,
                completed: items.filter(i => i.durum === 'completed').length,
                failed: items.filter(i => i.durum === 'failed').length,
                pending: items.filter(i => i.durum === 'pending').length
            };
            return stats;
        }
        
        function updateStats() {
            const total = testData.length;
            const completed = testData.filter(t => t.durum === 'completed').length;
            const failed = testData.filter(t => t.durum === 'failed').length;
            const pending = testData.filter(t => t.durum === 'pending').length;
            const progress = total > 0 ? Math.round((completed / total) * 100) : 0;
            
            document.getElementById('totalTests').textContent = total;
            document.getElementById('completedTests').textContent = completed;
            document.getElementById('failedTests').textContent = failed;
            document.getElementById('pendingTests').textContent = pending;
            document.getElementById('progressPercent').textContent = progress + '%';
        }
        
        function saveProgress() {
            const progress = testData.map(item => ({
                index: testData.indexOf(item),
                durum: item.durum,
                notlar: item.notlar
            }));
            localStorage.setItem('testProgress', JSON.stringify(progress));
        }
        
        function loadSavedProgress() {
            const saved = localStorage.getItem('testProgress');
            if (saved) {
                try {
                    const progress = JSON.parse(saved);
                    progress.forEach(p => {
                        if (testData[p.index]) {
                            testData[p.index].durum = p.durum || 'pending';
                            testData[p.index].notlar = p.notlar || '';
                        }
                    });
                } catch (e) {
                    console.error('KaydedilmiÅŸ ilerleme yÃ¼klenirken hata:', e);
                }
            }
        }
        
        function resetAll() {
            if (confirm('TÃ¼m test durumlarÄ±nÄ± sÄ±fÄ±rlamak istediÄŸinize emin misiniz?')) {
                testData.forEach(item => {
                    item.durum = 'pending';
                    item.notlar = '';
                });
                localStorage.removeItem('testProgress');
                renderTests();
                updateStats();
            }
        }
        
        function exportReport() {
            const report = generateReport();
            const blob = new Blob([report], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `test-raporu-${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }
        
        function copyReport() {
            const report = generateReport();
            navigator.clipboard.writeText(report).then(() => {
                alert('âœ… Rapor panoya kopyalandÄ±!');
            }).catch(() => {
                alert('âŒ Kopyalama baÅŸarÄ±sÄ±z. Raporu manuel olarak kopyalayÄ±n.');
            });
        }
        
        function downloadReport() {
            exportReport();
        }
        
        function generateReport() {
            const date = new Date().toLocaleString('tr-TR');
            let report = `ğŸ§ª HASENE OYUNU - TEST RAPORU\n`;
            report += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`;
            report += `Tarih: ${date}\n`;
            report += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n`;
            
            const total = testData.length;
            const completed = testData.filter(t => t.durum === 'completed').length;
            const failed = testData.filter(t => t.durum === 'failed').length;
            const pending = testData.filter(t => t.durum === 'pending').length;
            
            report += `ğŸ“Š GENEL Ä°STATÄ°STÄ°KLER\n`;
            report += `â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n`;
            report += `Toplam Test: ${total}\n`;
            report += `âœ… Tamamlanan: ${completed} (${Math.round(completed/total*100)}%)\n`;
            report += `âŒ BaÅŸarÄ±sÄ±z: ${failed} (${Math.round(failed/total*100)}%)\n`;
            report += `â³ Bekleyen: ${pending} (${Math.round(pending/total*100)}%)\n\n`;
            
            // Kategorilere gÃ¶re grupla
            const grouped = {};
            testData.forEach(item => {
                if (!grouped[item.kategori]) {
                    grouped[item.kategori] = [];
                }
                grouped[item.kategori].push(item);
            });
            
            Object.keys(grouped).sort().forEach(kategori => {
                report += `\nğŸ“ ${kategori}\n`;
                report += `â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n`;
                
                const categoryItems = grouped[kategori];
                const categoryCompleted = categoryItems.filter(i => i.durum === 'completed').length;
                const categoryFailed = categoryItems.filter(i => i.durum === 'failed').length;
                
                report += `Tamamlanan: ${categoryCompleted}/${categoryItems.length}\n`;
                report += `BaÅŸarÄ±sÄ±z: ${categoryFailed}\n\n`;
                
                // Test numaralarÄ±na gÃ¶re grupla
                const testGroups = {};
                categoryItems.forEach(item => {
                    if (!testGroups[item.testNo]) {
                        testGroups[item.testNo] = [];
                    }
                    testGroups[item.testNo].push(item);
                });
                
                Object.keys(testGroups).sort((a, b) => parseInt(a) - parseInt(b)).forEach(testNo => {
                    const group = testGroups[testNo];
                    const testName = group[0].testAdi;
                    const groupCompleted = group.filter(i => i.durum === 'completed').length;
                    const groupFailed = group.filter(i => i.durum === 'failed').length;
                    
                    report += `  Test ${testNo}: ${testName}\n`;
                    report += `  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n`;
                    report += `  Durum: ${groupCompleted}/${group.length} âœ“ | ${groupFailed} âœ—\n\n`;
                    
                    // BaÅŸarÄ±sÄ±z ve notlu testleri listele
                    group.forEach(item => {
                        if (item.durum === 'failed' || item.notlar) {
                            const statusIcon = item.durum === 'completed' ? 'âœ…' : 
                                             item.durum === 'failed' ? 'âŒ' : 'â³';
                            report += `    ${statusIcon} `;
                            if (item.adim) {
                                report += `[AdÄ±m ${item.adim}] `;
                            }
                            report += `${item.adimAciklama || item.kontrol}\n`;
                            if (item.beklenen) {
                                report += `      Beklenen: ${item.beklenen}\n`;
                            }
                            if (item.notlar) {
                                report += `      Notlar: ${item.notlar}\n`;
                            }
                            report += `\n`;
                        }
                    });
                });
            });
            
            // BaÅŸarÄ±sÄ±z testler Ã¶zeti
            const failedItems = testData.filter(t => t.durum === 'failed');
            if (failedItems.length > 0) {
                report += `\n\nâŒ BAÅARISIZ TESTLER Ã–ZETÄ°\n`;
                report += `â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n`;
                failedItems.forEach(item => {
                    report += `â€¢ ${item.kategori} - Test ${item.testNo}: ${item.testAdi}\n`;
                    if (item.adim) {
                        report += `  AdÄ±m ${item.adim}: ${item.adimAciklama || item.kontrol}\n`;
                    }
                    if (item.notlar) {
                        report += `  Not: ${item.notlar}\n`;
                    }
                    report += `\n`;
                });
            }
            
            report += `\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`;
            report += `Rapor OluÅŸturulma Tarihi: ${date}\n`;
            report += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`;
            
            return report;
        }
        
        function exportScreenshot() {
            alert('ğŸ“¸ Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ iÃ§in:\n\n1. Windows: Win + Shift + S\n2. Mac: Cmd + Shift + 4\n3. Veya tarayÄ±cÄ± geliÅŸtirici araÃ§larÄ±nÄ± kullanÄ±n (F12)\n\nRaporu kopyalayÄ±p bana gÃ¶nderebilirsiniz!');
        }
        
        function showFailedOnly() {
            document.getElementById('statusFilter').value = 'failed';
            renderTests();
        }
        
        function showHelp() {
            document.getElementById('helpModal').classList.add('active');
        }
        
        function closeHelp() {
            document.getElementById('helpModal').classList.remove('active');
        }
        
        // Modal dÄ±ÅŸÄ±na tÄ±klanÄ±nca kapat
        document.addEventListener('click', function(e) {
            const helpModal = document.getElementById('helpModal');
            if (e.target === helpModal) {
                closeHelp();
            }
        });
        
        // ESC tuÅŸu ile kapat
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeHelp();
            }
        });
        
        // Event listeners
        document.getElementById('categoryFilter').onchange = renderTests;
        document.getElementById('statusFilter').onchange = renderTests;
        document.getElementById('searchBox').oninput = renderTests;
        
        // Sayfa yÃ¼klendiÄŸinde
        loadTestData();
    </script>
</body>
</html>

