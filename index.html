<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Hasene ArapÃ§a Dersi - Kuran kelimelerini Ã¶ÄŸren, rozet topla, gÃ¼nlÃ¼k gÃ¶revleri tamamla">
    <meta name="theme-color" content="#764ba2">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Hasene">
    <title>Hasene ArapÃ§a Dersi</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="assets/images/icon-512.png">
    <link rel="icon" type="image/png" sizes="512x512" href="assets/images/icon-512.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Reem+Kufi:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* ========== LOADING SCREEN ========== */
        #loadingScreen {
            position: fixed;
            inset: 0;
            background: #000;
            color: #fff;
            z-index: 99999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding-bottom: 120px;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            text-align: center;
        }

        /* ---- LOGO ---- */
        .loading-logo {
            width: clamp(80px, 20vw, 120px);
            height: clamp(80px, 20vw, 120px);
            margin-bottom: 16px;
            object-fit: contain;
        }

        /* ---- BÃœYÃœK HASENE BAÅLIK ---- */
        .loading-title {
            font-size: clamp(32px, 8vw, 46px);
            font-weight: 700;
            letter-spacing: clamp(4px, 1.5vw, 8px);
            text-transform: uppercase;
            margin-bottom: 8px;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5), 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .loading-subtitle {
            font-size: clamp(11px, 2.5vw, 14px);
            opacity: 0.65;
            letter-spacing: 1px;
            margin-bottom: 22px;
            padding: 0 20px;
        }

        /* ---- HADÄ°S METNÄ° ---- */
        .loading-quote {
            text-align: center;
            max-width: 420px;
            line-height: 1.5;
            padding: 0 20px;
        }

        .loading-arabic {
            font-family: 'KFGQPC Uthmanic Script HAFS', 'Uthmani', 'Scheherazade New', serif;
            font-size: clamp(16px, 4vw, 22px);
            margin-bottom: 10px;
            direction: rtl;
        }

        .loading-turkish {
            font-size: clamp(11px, 2.5vw, 13px);
            opacity: 0.92;
        }

        /* ---- KÃ¼Ã§Ã¼k SPINNER ---- */
        .spinner-wrapper {
            width: 32px;
            height: 32px;
            position: absolute;
            bottom: 65px;
            left: 50%;
            margin-left: -16px; /* transform yerine margin kullan */
        }

        .spinner-circle {
            box-sizing: border-box;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.25);
            border-top-color: #fff;
            animation: spin 1s linear infinite !important;
            will-change: transform;
            transform-origin: center center;
        }
        
        #loadingScreen .spinner-circle {
            animation: spin 1s linear infinite !important;
        }

        @keyframes spin { 
            0% { 
                transform: rotate(0deg);
            }
            100% { 
                transform: rotate(360deg);
            }
        }

        .spinner-center-dot {
            position: absolute;
            width: 3px;
            height: 3px;
            border-radius: 50%;
            background: #fff;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* ---- FOOTER ---- */
        .loading-footer {
            position: absolute;
            bottom: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: clamp(9px, 2vw, 11px);
            opacity: 0.45;
            letter-spacing: 1px;
            padding: 0 20px;
        }

        /* Responsive - Tablet */
        @media (max-width: 768px) {
            #loadingScreen {
                padding-bottom: 100px;
            }
            .loading-quote {
                max-width: 90%;
            }
        }

        /* Responsive - Mobil */
        @media (max-width: 600px) {
            #loadingScreen {
                padding-bottom: 80px;
            }
            .loading-logo {
                width: clamp(50px, 12vw, 80px);
                height: clamp(50px, 12vw, 80px);
                margin-bottom: 12px;
            }
            .loading-title {
                font-size: clamp(28px, 7vw, 40px);
                letter-spacing: clamp(2px, 1vw, 6px);
                margin-bottom: 6px;
            }
            .loading-subtitle {
                font-size: clamp(10px, 2.2vw, 13px);
                margin-bottom: 18px;
                padding: 0 15px;
            }
            .loading-quote {
                max-width: 95%;
                padding: 0 15px;
            }
            .loading-arabic {
                font-size: clamp(14px, 3.5vw, 20px);
                margin-bottom: 8px;
            }
            .loading-turkish {
                font-size: clamp(10px, 2.2vw, 12px);
            }
            .spinner-wrapper {
                bottom: 55px;
            }
            .loading-footer {
                bottom: 15px;
                font-size: clamp(8px, 1.8vw, 10px);
                padding: 0 15px;
            }
        }

        /* Responsive - KÃ¼Ã§Ã¼k Mobil */
        @media (max-width: 360px) {
            #loadingScreen {
                padding-bottom: 70px;
            }
            .loading-logo {
                width: clamp(60px, 15vw, 90px);
                height: clamp(60px, 15vw, 90px);
                margin-bottom: 10px;
            }
            .loading-title {
                font-size: clamp(24px, 6vw, 36px);
                letter-spacing: clamp(1px, 0.8vw, 4px);
                margin-bottom: 5px;
            }
            .loading-subtitle {
                font-size: clamp(9px, 2vw, 12px);
                margin-bottom: 15px;
                padding: 0 10px;
            }
            .loading-quote {
                max-width: 98%;
                padding: 0 10px;
            }
            .loading-arabic {
                font-size: clamp(12px, 3vw, 18px);
                margin-bottom: 6px;
            }
            .loading-turkish {
                font-size: clamp(9px, 2vw, 11px);
            }
            .spinner-wrapper {
                bottom: 50px;
                width: 28px;
                height: 28px;
                margin-left: -14px;
            }
            .loading-footer {
                bottom: 12px;
                font-size: clamp(7px, 1.6vw, 9px);
                padding: 0 10px;
            }
        }

        /* Yatay Mod (Landscape) */
        @media (max-height: 500px) and (orientation: landscape) {
            #loadingScreen {
                padding-bottom: 60px;
            }
            .loading-logo {
                width: clamp(60px, 12vh, 80px);
                height: clamp(60px, 12vh, 80px);
                margin-bottom: 8px;
            }
            .loading-title {
                font-size: clamp(24px, 5vh, 36px);
                margin-bottom: 4px;
            }
            .loading-subtitle {
                font-size: clamp(9px, 2vh, 12px);
                margin-bottom: 12px;
            }
            .loading-quote {
                max-width: 85%;
                padding: 0 15px;
            }
            .loading-arabic {
                font-size: clamp(12px, 3vh, 18px);
                margin-bottom: 6px;
            }
            .loading-turkish {
                font-size: clamp(9px, 2vh, 11px);
            }
            .spinner-wrapper {
                bottom: 45px;
            }
            .loading-footer {
                bottom: 10px;
                font-size: clamp(7px, 1.5vh, 9px);
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen">
        <img src="assets/images/icon-512.png" alt="HASENE Logo" class="loading-logo">
        <div class="loading-title">HASENE</div>
        <div class="loading-subtitle">ArapÃ§a Kelime â€¢ Ayet â€¢ Dua â€¢ Hadis Ã–ÄŸrenme Oyunu</div>

        <!-- HADÄ°S: KUR'Ã‚N'DAN BÄ°R HARF OKUMANIN SEVABI -->
        <div class="loading-quote">
            <div class="loading-arabic">
                Ù…ÙÙ†Ù’ Ù‚ÙØ±ÙØ£Ù Ø­ÙØ±Ù’ÙÙ‹Ø§ Ù…ÙÙ†Ù’ ÙƒÙØªÙØ§Ø¨Ù Ø§Ù„Ù„Ù‡Ù ÙÙÙ„ÙÙ‡Ù Ø¨ÙÙ‡Ù Ø­ÙØ³ÙÙ†ÙØ©ÙŒØŒ
                ÙˆÙØ§Ù„Ù’Ø­ÙØ³ÙÙ†ÙØ©Ù Ø¨ÙØ¹ÙØ´Ù’Ø±Ù Ø£ÙÙ…Ù’Ø«ÙØ§Ù„ÙÙ‡ÙØ§ØŒ
                Ù„ÙØ§ Ø£ÙÙ‚ÙÙˆÙ„Ù: Ø§Ù„Ù… Ø­ÙØ±Ù’ÙÙŒØŒ
                ÙˆÙÙ„ÙÙƒÙÙ†Ù’ Ø£ÙÙ„ÙÙÙŒ Ø­ÙØ±Ù’ÙÙŒØŒ
                ÙˆÙÙ„ÙØ§Ù…ÙŒ Ø­ÙØ±Ù’ÙÙŒØŒ
                ÙˆÙÙ…ÙÙŠÙ…ÙŒ Ø­ÙØ±Ù’ÙÙŒ
            </div>

            <div class="loading-turkish">
                "Kim Kur'Ã¢n-Ä± KerÃ®m'den bir harf okursa, onun iÃ§in bir iyilik sevabÄ± vardÄ±r.
                Her bir iyiliÄŸin karÅŸÄ±lÄ±ÄŸÄ± da on sevaptÄ±r.
                Ben, 'elif lÃ¢m mÃ®m bir harftir' demiyorum; bilÃ¢kis elif bir harftir,
                lÃ¢m bir harftir, mÃ®m de bir harftir."
                <br>(TirmizÃ®, FezÃ¢ilÃ¼'l-Kur'Ã¢n 16)
            </div>
        </div>

        <!-- KÃ¼Ã§Ã¼k spinner -->
        <div class="spinner-wrapper">
            <div class="spinner-circle"></div>
            <div class="spinner-center-dot"></div>
        </div>

        <!-- Footer -->
        <div class="loading-footer">
            Â© 2025 YZOKUMUS
        </div>
    </div>

    <!-- Main Container -->
    <div class="container" id="main-container">
        <!-- Ana MenÃ¼ -->
        <div id="main-menu" class="main-menu">
            <!-- Hero Section -->
            <div class="hero-section">
                <div class="stats-bar">
                    <div class="stat-item">
                        <span class="stat-label">Hasene</span>
                        <span class="stat-value" id="total-points">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">â­ YÄ±ldÄ±z</span>
                        <span class="stat-value" id="star-points">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Mertebe</span>
                        <span class="stat-value" id="current-level">1</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ğŸ”¥ Seri</span>
                        <span class="stat-value" id="current-streak">0</span>
                    </div>
                    <div class="stat-item" id="user-auth-section">
                        <button id="login-btn" class="login-btn" style="background: #4285f4; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 0.7rem; font-weight: 600; display: none;">
                            ğŸ” GiriÅŸ Yap
                        </button>
                        <div id="user-profile" style="display: flex; flex-direction: column; align-items: center; gap: 4px;">
                            <img id="user-avatar" src="" alt="User" style="width: 32px; height: 32px; border-radius: 50%; border: 2px solid #4285f4;">
                            <span id="user-name" style="font-size: 0.65rem; font-weight: 600; color: #333; text-align: center;"></span>
                            <button id="logout-btn" style="background: #dc3545; color: white; border: none; padding: 4px 10px; border-radius: 4px; cursor: pointer; font-size: 0.65rem; font-weight: 600; margin-top: 2px;">Ã‡Ä±kÄ±ÅŸ Yap</button>
                        </div>
                    </div>
                </div>
                
                <!-- PWA Install Banner -->
                <div id="pwa-install-banner" class="pwa-install-banner" style="display: none;">
                    <div class="pwa-install-content">
                        <div class="pwa-install-icon">ğŸ“±</div>
                        <div class="pwa-install-text">
                            <strong>Ana Ekrana Ekle</strong>
                            <span>Daha hÄ±zlÄ± eriÅŸim iÃ§in uygulamayÄ± ana ekranÄ±nÄ±za ekleyin</span>
                        </div>
                        <button id="pwa-install-btn" class="pwa-install-btn">YÃ¼kle</button>
                        <button id="pwa-install-close" class="pwa-install-close">Ã—</button>
                    </div>
                </div>
                
                <!-- GÃ¼nlÃ¼k Vird -->
                <div class="daily-goal-section">
                    <div class="daily-goal-header">
                        <div class="daily-goal-title-section">
                            <h3>ğŸ¯ GÃ¼nlÃ¼k Vird</h3>
                            <div class="progress-text">
                                <span id="daily-goal-current">0</span> / <span id="daily-goal-target">2700</span> Hasene
                                <span id="daily-goal-percent">(0%)</span>
                            </div>
                        </div>
                        <button class="settings-btn" id="daily-goal-settings-btn" aria-label="GÃ¼nlÃ¼k vird ayarlarÄ±">âš™ï¸</button>
                    </div>
                    <div class="daily-goal-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="daily-goal-progress"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Zorluk SeÃ§ici -->
            <div class="difficulty-selector">
                <h3>Zorluk Seviyesi</h3>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn" data-difficulty="easy">ğŸŒ± Kolay</button>
                    <button class="difficulty-btn active" data-difficulty="medium">âš–ï¸ Orta</button>
                    <button class="difficulty-btn" data-difficulty="hard">ğŸ”¥ Zor</button>
                </div>
            </div>

            <!-- Oyun ModlarÄ± Grid -->
            <div class="game-modes-grid">
                <div class="game-card" data-game="kelime-cevir">
                    <div class="game-icon">
                        <img src="assets/game-icons/kelime-cevir.png" alt="Kelime Ã‡evir" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <span style="display:none;">ğŸ“š</span>
                    </div>
                    <h3>Kelime Ã‡evir</h3>
                    <p>ArapÃ§a kelimelerin TÃ¼rkÃ§e meÃ¢l karÅŸÄ±lÄ±ÄŸÄ±nÄ± bul</p>
                </div>

                <div class="game-card" data-game="dinle-bul">
                    <div class="game-icon">
                        <img src="assets/game-icons/dinle-bul.png" alt="Dinle Bul" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <span style="display:none;">ğŸ§</span>
                    </div>
                    <h3>Dinle Bul</h3>
                    <p>Kuran'da geÃ§en ArapÃ§a kelimeyi dinle ve bul</p>
                </div>

                <div class="game-card" data-game="bosluk-doldur">
                    <div class="game-icon">
                        <img src="assets/game-icons/bosluk-doldur.png" alt="BoÅŸluk Doldur" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <span style="display:none;">âœï¸</span>
                    </div>
                    <h3>BoÅŸluk Doldur</h3>
                    <p>Ayetteki eksik kelimeyi tamamla</p>
                </div>

                <div class="game-card" data-game="ayet-oku">
                    <div class="game-icon">
                        <img src="assets/game-icons/ayet-oku.png" alt="Ayet Oku" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <span style="display:none;">ğŸ“–</span>
                    </div>
                    <h3>Ayet Oku</h3>
                    <p>Ayetin ArapÃ§a'sÄ±nÄ± oku, dinle ve meÃ¢li idrak et</p>
                </div>

                <div class="game-card" data-game="dua-et">
                    <div class="game-icon">
                        <img src="assets/game-icons/dua-et.png" alt="Dua Et" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <span style="display:none;">ğŸ¤²</span>
                    </div>
                    <h3>Dua Et</h3>
                    <p>Kuran'da geÃ§en dualarÄ± dinle ve Ã¶ÄŸren</p>
                </div>

                <div class="game-card" data-game="hadis-oku">
                    <div class="game-icon">
                        <img src="assets/game-icons/hadis-oku.png" alt="Hadis Oku" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <span style="display:none;">ğŸ“œ</span>
                    </div>
                    <h3>Hadis Oku</h3>
                    <p>Hadis-i ÅŸerifleri oku ve istifade et</p>
                </div>
            </div>
        </div>

        <!-- Kelime Ã‡evir Oyun EkranÄ± -->
        <div id="kelime-cevir-screen" class="game-screen" style="display:none;">
            <div class="game-header">
                <button class="back-btn" onclick="goToMainMenu(true)">â† Geri</button>
                <div class="game-info">
                    <span id="question-number">1/10</span>
                    <span id="session-score">Hasene: 0</span>
                </div>
                <button class="game-info-btn" onclick="showGameInfoModal('kelime-cevir')" title="Oyun Bilgileri">â„¹ï¸</button>
            </div>

            <!-- Alt Mod SeÃ§imi -->
            <div id="kelime-submode-selection" class="submode-selection">
                <h3>Oyun Modu SeÃ§in</h3>
                <div class="submode-buttons">
                    <button class="submode-btn" data-submode="classic">ğŸ¯ Klasik Oyun</button>
                    <button class="submode-btn" data-submode="juz30">ğŸ“– 30.cÃ¼z Ayetlerinin Kelimeleri</button>
                    <button class="submode-btn" data-submode="review">ğŸ”„ YanlÄ±ÅŸ cevaplanan kelimeleri tekrar et</button>
                    <button class="submode-btn" data-submode="favorites">â­ Favori kelimelerden oyna</button>
                </div>
            </div>

            <!-- Oyun Ä°Ã§eriÄŸi -->
            <div id="kelime-game-content" class="game-content" style="display:none;">
                <div class="question-section">
                    <div class="arabic-word-container">
                        <div class="arabic-word" id="arabic-word">Ø¨ÙØ³Ù’Ù…Ù</div>
                        <div class="kelime-metadata">
                            <span class="kelime-id" id="kelime-id"></span>
                            <div class="kelime-action-buttons">
                                <button class="hint-icon-btn" id="hint-btn" title="Ä°pucu">
                                    <img src="assets/images/hint-icon.png" alt="Ä°pucu" class="hint-icon">
                                </button>
                                <button class="play-audio-speaker-btn kelime-speaker-btn" id="kelime-play-audio-btn" title="Kelimeyi Dinle">
                                    <img src="assets/images/hoparlor.png" alt="Dinle" class="speaker-icon">
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="options-section">
                    <button class="option-btn" data-index="0"></button>
                    <button class="option-btn" data-index="1"></button>
                    <button class="option-btn" data-index="2"></button>
                    <button class="option-btn" data-index="3"></button>
                </div>

                <div class="combo-display" id="combo-display" style="display:none;">
                    <span>ğŸ”¥ Combo: <span id="combo-count">0</span></span>
                </div>
            </div>
        </div>

        <!-- Dinle Bul Oyun EkranÄ± -->
        <div id="dinle-bul-screen" class="game-screen" style="display:none;">
            <div class="game-header">
                <button class="back-btn" onclick="goToMainMenu(true)">â† Geri</button>
                <div class="game-info">
                    <span id="dinle-question-number">1/10</span>
                    <span id="dinle-session-score">Hasene: 0</span>
                </div>
                <button class="game-info-btn" onclick="showGameInfoModal('dinle-bul')" title="Oyun Bilgileri">â„¹ï¸</button>
            </div>

            <div class="game-content">
                <div class="question-section">
                    <div class="arabic-word-container">
                        <p class="instruction">
                            <span class="headphone-icon">ğŸ§</span>
                            DinlediÄŸin kelimeyi seÃ§
                        </p>
                        <div class="kelime-metadata">
                            <span class="kelime-id" id="dinle-id"></span>
                            <button class="play-audio-speaker-btn kelime-speaker-btn" id="play-audio-btn" title="Kelimeyi Dinle">
                                <img src="assets/images/hoparlor.png" alt="Dinle" class="speaker-icon">
                            </button>
                        </div>
                    </div>
                </div>

                <div class="options-section">
                    <button class="option-btn" data-index="0"></button>
                    <button class="option-btn" data-index="1"></button>
                    <button class="option-btn" data-index="2"></button>
                    <button class="option-btn" data-index="3"></button>
                </div>

                <div class="combo-display" id="dinle-combo-display" style="display:none;">
                    <span>ğŸ”¥ Combo: <span id="dinle-combo-count">0</span></span>
                </div>
            </div>
        </div>

        <!-- BoÅŸluk Doldur Oyun EkranÄ± -->
        <div id="bosluk-doldur-screen" class="game-screen" style="display:none;">
            <div class="game-header">
                <button class="back-btn" onclick="goToMainMenu(true)">â† Geri</button>
                <div class="game-info">
                    <span id="bosluk-question-number">1/10</span>
                    <span id="bosluk-session-score">Hasene: 0</span>
                </div>
                <button class="game-info-btn" onclick="showGameInfoModal('bosluk-doldur')" title="Oyun Bilgileri">â„¹ï¸</button>
            </div>

            <div class="game-content">
                <div class="question-section">
                    <div class="arabic-word-container">
                        <div class="verse-text" id="verse-text">
                            Ø¨ÙØ³Ù’Ù…Ù <span class="blank" id="blank-word"></span> Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù
                        </div>
                        <div class="kelime-metadata">
                            <span class="kelime-id" id="bosluk-verse-id"></span>
                            <button class="play-audio-speaker-btn kelime-speaker-btn" id="bosluk-play-audio-btn" title="Ayeti Dinle">
                                <img src="assets/images/hoparlor.png" alt="Dinle" class="speaker-icon">
                            </button>
                        </div>
                    </div>
                    <div class="verse-metadata">
                        <span class="verse-meal" id="verse-meal"></span>
                    </div>
                </div>

                <div class="options-section">
                    <button class="option-btn" data-index="0"></button>
                    <button class="option-btn" data-index="1"></button>
                    <button class="option-btn" data-index="2"></button>
                    <button class="option-btn" data-index="3"></button>
                </div>

                <div class="combo-display" id="bosluk-combo-display" style="display:none;">
                    <span>ğŸ”¥ Combo: <span id="bosluk-combo-count">0</span></span>
                </div>
            </div>
        </div>

        <!-- Ayet Oku EkranÄ± -->
        <div id="ayet-oku-screen" class="reading-screen" style="display:none;">
            <div class="game-header">
                <button class="back-btn" onclick="goToMainMenu(true)">â† Geri</button>
                <h2>Ayet Oku</h2>
            </div>

            <div class="reading-content">
                <div class="verse-info">
                    <span class="verse-id verse-info-id" id="ayet-verse-id"></span>
                    <h3 id="ayet-sure-name">FÃ¢tiha Suresi</h3>
                    <button class="play-audio-speaker-btn verse-info-speaker" id="ayet-play-audio-btn" title="Ayeti Dinle">
                        <img src="assets/images/hoparlor.png" alt="Dinle" class="speaker-icon">
                    </button>
                </div>

                <div class="arabic-word-container">
                    <div class="arabic-text" id="ayet-arabic-text">
                        Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù
                    </div>
                </div>

                <div class="translation-text" id="ayet-translation">
                    Rahman ve Rahim olan Allah'Ä±n adÄ±yla:
                </div>

                <div class="reading-actions">
                    <button class="nav-btn" id="ayet-prev-btn">â† Ã–nceki</button>
                    <button class="nav-btn" id="ayet-next-btn">Sonraki â†’</button>
                </div>
            </div>
        </div>

        <!-- Dua Et EkranÄ± -->
        <div id="dua-et-screen" class="reading-screen" style="display:none;">
            <div class="game-header">
                <button class="back-btn" onclick="goToMainMenu(true)">â† Geri</button>
                <h2>Dua Et</h2>
            </div>

            <div class="reading-content">
                <div class="verse-info">
                    <span class="verse-id verse-info-id" id="dua-verse-id"></span>
                    <h3 id="dua-verse">2:127</h3>
                    <button class="play-audio-speaker-btn verse-info-speaker" id="dua-play-audio-btn" title="DuayÄ± Dinle">
                        <img src="assets/images/hoparlor.png" alt="Dinle" class="speaker-icon">
                    </button>
                </div>

                <div class="arabic-word-container">
                    <div class="arabic-text" id="dua-arabic-text">
                        Ø±ÙØ¨ÙÙ‘Ù†ÙØ§ ØªÙÙ‚ÙØ¨ÙÙ‘Ù„Û¡ Ù…ÙÙ†ÙÙ‘Ø¢Û– Ø¥ÙÙ†ÙÙ‘ÙƒÙ Ø£ÙÙ†ØªÙ Ù±Ù„Ø³ÙÙ‘Ù…ÙÙŠØ¹Ù Ù±Ù„Û¡Ø¹ÙÙ„ÙÙŠÙ…Ù
                    </div>
                </div>

                <div class="translation-text" id="dua-translation">
                    Ä°brahim ve Ä°smail, Kabenin temellerini yÃ¼kseltiyordu: 'Rabbimiz! YaptÄ±ÄŸÄ±mÄ±zÄ± kabul buyur. ÅÃ¼phesiz ki, Sen hem iÅŸitir hem bilirsin'
                </div>

                <div class="reading-actions">
                    <button class="nav-btn" id="dua-prev-btn">â† Ã–nceki</button>
                    <button class="nav-btn" id="dua-next-btn">Sonraki â†’</button>
                </div>
            </div>
        </div>

        <!-- Hadis Oku EkranÄ± -->
        <div id="hadis-oku-screen" class="reading-screen" style="display:none;">
            <div class="game-header">
                <button class="back-btn" onclick="goToMainMenu(true)">â† Geri</button>
                <h2>Hadis Oku</h2>
            </div>

            <div class="reading-content">
                <div class="hadis-info">
                    <div class="hadis-category" id="hadis-category">Ä°MAN VE Ä°SLAM HAKKINDA</div>
                    <div class="hadis-chapter" id="hadis-chapter">Ä°man ve Ä°slam'Ä±n Fazileti</div>
                    <div class="hadis-header" id="hadis-header">Ubade Ä°bnus-Samit el-Ensari</div>
                </div>

                <div class="hadis-text" id="hadis-text">
                    Hz. Peygamber (sav) ÅŸÃ¶yle buyurdular: "Kim Allah'tan baÅŸka ilah olmadÄ±ÄŸÄ±na Allah'Ä±n bir ve ÅŸeriksiz olduÄŸuna ve Muhammed'in onun kulu ve ResulÃ¼ (elÃ§isi) olduÄŸuna, keza Hz. Ä°sa'nÄ±n da Allah'Ä±n kulu ve elÃ§isi olup, Hz. Meryem'e attÄ±ÄŸÄ± bir kelimesi ve kendinden bir ruh olduÄŸuna, keza cennet ve cehennemin hak olduÄŸuna ÅŸehadet ederse, her ne amel Ã¼zere olursa olsun Allah onu cennetine koyacaktÄ±r."
                </div>

                <div class="hadis-ref" id="hadis-ref">
                    Buhari, Enbiya 47; MÃ¼slim, Ä°man 46, (28); Tirmizi, Ä°man 17, (2640)
                </div>

                <div class="reading-actions">
                    <button class="nav-btn" id="hadis-prev-btn">â† Ã–nceki</button>
                    <button class="nav-btn" id="hadis-next-btn">Sonraki â†’</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-btn" data-page="main-menu">
            <span>ğŸ </span>
            <span>Ana MenÃ¼</span>
        </button>
        <button class="nav-btn" data-page="stats">
            <span>ğŸ“Š</span>
            <span>Ä°statistikler</span>
        </button>
        <button class="nav-btn" data-page="badges">
            <span>ğŸ†</span>
            <span>Muvaffakiyetler</span>
        </button>
        <button class="nav-btn" data-page="calendar">
            <span>ğŸ“…</span>
            <span>Takvim</span>
        </button>
        <button class="nav-btn" data-page="tasks" id="tasks-nav-btn">
            <span>ğŸ“‹</span>
            <span>Vazifeler</span>
            <span class="tasks-counter" id="tasks-counter">0/0</span>
            <span class="badge-notification" id="tasks-badge" style="display:none;">!</span>
        </button>
    </nav>

    <!-- Modals -->
    
    <!-- Onboarding Modal -->
    <div id="onboarding-modal" class="modal" style="display:none;">
        <div class="modal-content onboarding-content">
            <div class="onboarding-slide" data-slide="0">
                <div class="onboarding-icon">ğŸ•Œ</div>
                <h2>HoÅŸ Geldiniz!</h2>
                <p><strong>Hasene ArapÃ§a Dersi</strong>'ne hoÅŸ geldiniz!</p>
                <p>Kuran-Ä± Kerim kelimelerini eÄŸlenceli bir ÅŸekilde Ã¶ÄŸrenerek hem bilginizi artÄ±rÄ±n hem de <strong>Hasene</strong> kazanÄ±n.</p>
                <div class="onboarding-feature-list">
                    <div class="feature-item">ğŸ“š 6 FarklÄ± Oyun Modu</div>
                    <div class="feature-item">ğŸ’° Hasene Puan Sistemi</div>
                    <div class="feature-item">ğŸ† Rozet ve BaÅŸarÄ±m Sistemi</div>
                    <div class="feature-item">ğŸ“… GÃ¼nlÃ¼k ve HaftalÄ±k GÃ¶revler</div>
                </div>
            </div>
            
            <div class="onboarding-slide" data-slide="1" style="display:none;">
                <div class="onboarding-icon">ğŸ¯</div>
                <h2>Hedef Kitlemiz</h2>
                <p><strong>Hasene ArapÃ§a Dersi</strong> kimler iÃ§in?</p>
                <div class="onboarding-feature-list">
                    <div class="feature-item">ğŸ“– Kuran-Ä± Kerim'i daha iyi anlamak isteyenler</div>
                    <div class="feature-item">ğŸ“ ArapÃ§a Ã¶ÄŸrenmeye baÅŸlayanlar</div>
                    <div class="feature-item">ğŸ’¡ Kelime hazinesini geniÅŸletmek isteyenler</div>
                    <div class="feature-item">â° KÄ±sa sÃ¼relerde etkili Ã¶ÄŸrenme arayanlar</div>
                    <div class="feature-item">ğŸ”¥ DÃ¼zenli Ã§alÄ±ÅŸma alÄ±ÅŸkanlÄ±ÄŸÄ± kazanmak isteyenler</div>
                </div>
            </div>
            
            <div class="onboarding-slide" data-slide="2" style="display:none;">
                <div class="onboarding-icon">ğŸ“š</div>
                <h2>Oyun ModlarÄ±</h2>
                <p>6 farklÄ± mod ile ArapÃ§a Ã¶ÄŸrenin:</p>
                <div class="onboarding-game-modes">
                    <div class="game-mode-item">
                        <strong>ğŸ“– Kelime Ã‡evir:</strong> ArapÃ§a kelimelerin TÃ¼rkÃ§e meÃ¢l karÅŸÄ±lÄ±ÄŸÄ±nÄ± bul
                    </div>
                    <div class="game-mode-item">
                        <strong>ğŸ§ Dinle Bul:</strong> Kuran'da geÃ§en ArapÃ§a kelimeyi dinle ve bul
                    </div>
                    <div class="game-mode-item">
                        <strong>âœï¸ BoÅŸluk Doldur:</strong> Ayetteki eksik kelimeyi tamamla
                    </div>
                    <div class="game-mode-item">
                        <strong>ğŸ“¿ Ayet Oku:</strong> Ayetin ArapÃ§a'sÄ±nÄ± oku, dinle ve meÃ¢li idrak et
                    </div>
                    <div class="game-mode-item">
                        <strong>ğŸ¤² Dua Et:</strong> DualarÄ± oku, dinle ve anlamlarÄ±nÄ± Ã¶ÄŸren
                    </div>
                    <div class="game-mode-item">
                        <strong>ğŸ’¬ Hadis Oku:</strong> Hadis-i ÅŸerifleri oku ve anlamlarÄ±nÄ± keÅŸfet
                    </div>
                </div>
            </div>
            
            <div class="onboarding-slide" data-slide="3" style="display:none;">
                <div class="onboarding-icon">ğŸ’°</div>
                <h2>Ã–dÃ¼l Sistemi</h2>
                <p><strong>Hasene PuanlarÄ±:</strong></p>
                <div class="onboarding-rewards">
                    <div class="reward-item">
                        <span class="reward-icon">âœ…</span>
                        <div>
                            <strong>DoÄŸru Cevap:</strong> +10 Hasene
                        </div>
                    </div>
                    <div class="reward-item">
                        <span class="reward-icon">ğŸ’¡</span>
                        <div>
                            <strong>YanlÄ±ÅŸ Cevap:</strong> Puan kaybÄ± yok, Ã¶ÄŸrenmeye devam!
                        </div>
                    </div>
                    <div class="reward-item">
                        <span class="reward-icon">ğŸ”¥</span>
                        <div>
                            <strong>Combo Bonusu:</strong> Her 3 doÄŸru cevapta +5 Hasene
                        </div>
                    </div>
                    <div class="reward-item">
                        <span class="reward-icon">â­</span>
                        <div>
                            <strong>MÃ¼kemmel Ders:</strong> TÃ¼m sorular doÄŸru â†’ %50 bonus Hasene
                        </div>
                    </div>
                </div>
                <p style="margin-top: 1rem;"><strong>YÄ±ldÄ±z ve Mertebe:</strong></p>
                <p>Hasene kazandÄ±kÃ§a yÄ±ldÄ±z toplayÄ±n ve mertebe atlayÄ±n. Her mertebe yeni baÅŸarÄ±mlarÄ±n kapÄ±sÄ±nÄ± aÃ§ar!</p>
            </div>
            
            <div class="onboarding-slide" data-slide="4" style="display:none;">
                <div class="onboarding-icon">ğŸ“…</div>
                <h2>GÃ¶revler ve Seri</h2>
                <p><strong>GÃ¼nlÃ¼k GÃ¶revler:</strong></p>
                <div class="onboarding-feature-list">
                    <div class="feature-item">âœ… Belirli sayÄ±da doÄŸru cevap ver</div>
                    <div class="feature-item">âœ… FarklÄ± oyun modlarÄ±nÄ± dene</div>
                    <div class="feature-item">âœ… Combo yap ve bonus kazan</div>
                    <div class="feature-item">âœ… GÃ¼nlÃ¼k Ã¶dÃ¼l: +2,500 Hasene</div>
                </div>
                <p style="margin-top: 1rem;"><strong>HaftalÄ±k GÃ¶revler:</strong></p>
                <p>HaftalÄ±k hedefleri tamamlayarak <strong>+5,000 Hasene</strong> bonus kazanÄ±n!</p>
                <p style="margin-top: 1rem;"><strong>ğŸ”¥ Seri (Streak):</strong></p>
                <p>Her gÃ¼n oynayarak serinizi koruyun. Uzun seriler Ã¶zel baÅŸarÄ±mlarÄ±n anahtarÄ±!</p>
            </div>
            
            <div class="onboarding-slide" data-slide="5" style="display:none;">
                <div class="onboarding-icon">ğŸ†</div>
                <h2>Rozetler ve BaÅŸarÄ±mlar</h2>
                <p><strong>26 FarklÄ± Rozet:</strong></p>
                <div class="onboarding-feature-list">
                    <div class="feature-item">ğŸ¥‰ Bronz, ğŸ¥ˆ GÃ¼mÃ¼ÅŸ, ğŸ¥‡ AltÄ±n, ğŸ’ Elmas rozetler</div>
                    <div class="feature-item">ğŸ“Š Ä°statistik bazlÄ± rozetler</div>
                    <div class="feature-item">ğŸ”¥ Seri bazlÄ± rozetler</div>
                    <div class="feature-item">â­ Mertebe bazlÄ± rozetler</div>
                </div>
                <p style="margin-top: 1rem;"><strong>BaÅŸarÄ±mlar:</strong></p>
                <p>Her baÅŸarÄ±m iÃ§in Ã¶zel rozetler kazanÄ±n ve koleksiyonunuzu geniÅŸletin!</p>
                <p style="margin-top: 1rem;"><strong>Ä°lerleme Takibi:</strong></p>
                <p>Her rozet iÃ§in ilerleme Ã§ubuÄŸu ile ne kadar yakÄ±n olduÄŸunuzu gÃ¶rÃ¼n.</p>
            </div>
            
            <div class="onboarding-slide" data-slide="6" style="display:none;">
                <div class="onboarding-icon">ğŸ¯</div>
                <h2>BaÅŸlayalÄ±m!</h2>
                <p><strong>ArtÄ±k hazÄ±rsÄ±nÄ±z!</strong></p>
                <div class="onboarding-tips">
                    <p>ğŸ’¡ <strong>Ä°pucu:</strong> GÃ¼nlÃ¼k virdinizi tamamlamayÄ± unutmayÄ±n!</p>
                    <p>ğŸ’¡ <strong>Ä°pucu:</strong> FarklÄ± zorluk seviyelerini deneyin!</p>
                    <p>ğŸ’¡ <strong>Ä°pucu:</strong> Serinizi korumak iÃ§in her gÃ¼n oynayÄ±n!</p>
                </div>
                <p style="margin-top: 1.5rem; font-size: 1.1rem; color: var(--accent-primary);">
                    <strong>Ä°yi dersler! ğŸŒŸ</strong>
                </p>
            </div>
            
            <div class="onboarding-controls">
                <button class="onboarding-prev" id="onboarding-prev" style="display:none;">â† Geri</button>
                <button class="onboarding-next" id="onboarding-next">Ä°leri â†’</button>
                <button class="onboarding-skip" id="onboarding-skip">Atla</button>
            </div>
        </div>
    </div>

    <!-- Ä°statistikler Modal -->
    <div id="stats-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“Š Ä°statistikler</h2>
                <button class="modal-close" onclick="closeModal('stats-modal')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="stats-section">
                    <h3>BugÃ¼nkÃ¼ Amel</h3>
                    <div class="stat-row">
                        <span>Toplam Sahih:</span>
                        <span id="stats-daily-correct">0</span>
                    </div>
                    <div class="stat-row">
                        <span>HatalÄ±:</span>
                        <span id="stats-daily-wrong">0</span>
                    </div>
                </div>

                <div class="stats-section">
                    <h3>Toplam Ä°statistikler</h3>
                    <div class="stat-row">
                        <span>Toplam Hasene:</span>
                        <span id="stats-total-points">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Toplam Sahih:</span>
                        <span id="stats-total-correct">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Toplam HatalÄ±:</span>
                        <span id="stats-total-wrong">0</span>
                    </div>
                    <div class="stat-row">
                        <span>BaÅŸarÄ± OranÄ±:</span>
                        <span id="stats-accuracy">0%</span>
                    </div>
                </div>

                <div class="stats-section">
                    <h3>Oyun TÃ¼rÃ¼ Ä°statistikleri</h3>
                    <div class="stat-row">
                        <span>Kelime Ã‡evir:</span>
                        <span id="stats-kelime-count">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Dinle Bul:</span>
                        <span id="stats-dinle-count">0</span>
                    </div>
                    <div class="stat-row">
                        <span>BoÅŸluk Doldur:</span>
                        <span id="stats-bosluk-count">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Ayet Oku:</span>
                        <span id="stats-ayet-count">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Dua Et:</span>
                        <span id="stats-dua-count">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Hadis Oku:</span>
                        <span id="stats-hadis-count">0</span>
                    </div>
                </div>

                <div class="modal-actions">
                    <button class="btn-primary" onclick="showDetailedStats()">DetaylÄ± Ä°statistikler</button>
                    <button class="btn-secondary" onclick="showDataStatus()">Veri Durumu</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Rozet Detay Modal -->
    <div id="badge-detail-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="badge-detail-title">Rozet DetayÄ±</h2>
                <button class="modal-close" onclick="closeModal('badge-detail-modal')">Ã—</button>
            </div>
            <div class="modal-body">
                <div id="badge-detail-content" style="text-align: center;">
                    <!-- Rozet gÃ¶rseli ve detaylarÄ± buraya eklenecek -->
                </div>
            </div>
        </div>
    </div>

    <!-- Muvaffakiyetler Modal -->
    <div id="badges-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ† Muvaffakiyetler</h2>
                <button class="modal-close" onclick="closeModal('badges-modal')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="badges-section">
                    <h3>Rozetler</h3>
                    <!-- Badge Sekmeleri -->
                    <div class="badge-tabs">
                        <button class="badge-tab-btn active" data-tab="asr-saadet">Mekke DÃ¶nemi</button>
                        <button class="badge-tab-btn" data-tab="dort-halife">Medine DÃ¶nemi</button>
                        <button class="badge-tab-btn" data-tab="uhud-sehitleri">Ä°lk Ä°ki Halife</button>
                        <button class="badge-tab-btn" data-tab="osmanli">Hz. Osman</button>
                        <button class="badge-tab-btn" data-tab="selcuklu">Hz. Ali</button>
                    </div>
                    <!-- Badge Tab Ä°Ã§erikleri -->
                    <div class="badge-tab-content active" id="asr-saadet-tab">
                        <div class="badges-grid" id="badges-grid-asr-saadet">
                            <!-- Rozetler buraya dinamik olarak eklenecek -->
                        </div>
                    </div>
                    <div class="badge-tab-content" id="dort-halife-tab" style="display:none;">
                        <div class="badges-grid" id="badges-grid-dort-halife">
                            <!-- Rozetler buraya dinamik olarak eklenecek -->
                        </div>
                    </div>
                    <div class="badge-tab-content" id="uhud-sehitleri-tab" style="display:none;">
                        <div class="badges-grid" id="badges-grid-uhud-sehitleri">
                            <!-- Rozetler buraya dinamik olarak eklenecek -->
                        </div>
                    </div>
                    <div class="badge-tab-content" id="osmanli-tab" style="display:none;">
                        <div class="badges-grid" id="badges-grid-osmanli">
                            <!-- Rozetler buraya dinamik olarak eklenecek -->
                        </div>
                    </div>
                    <div class="badge-tab-content" id="selcuklu-tab" style="display:none;">
                        <div class="badges-grid" id="badges-grid-selcuklu">
                            <!-- Rozetler buraya dinamik olarak eklenecek -->
                        </div>
                    </div>
                </div>

                <div class="achievements-section">
                    <h3>BaÅŸarÄ±mlar</h3>
                    <div class="achievements-grid" id="achievements-grid">
                        <!-- BaÅŸarÄ±mlar buraya dinamik olarak eklenecek -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Takvim Modal -->
    <div id="calendar-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“… Takvim</h2>
                <button class="modal-close" onclick="closeModal('calendar-modal')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="calendar-section">
                    <div class="calendar-header">
                        <h3 id="calendar-month-year">AralÄ±k 2024</h3>
                    </div>
                    <div class="calendar-weekdays">
                        <div class="calendar-weekday">Pzt</div>
                        <div class="calendar-weekday">Sal</div>
                        <div class="calendar-weekday">Ã‡ar</div>
                        <div class="calendar-weekday">Per</div>
                        <div class="calendar-weekday">Cum</div>
                        <div class="calendar-weekday">Cmt</div>
                        <div class="calendar-weekday">Paz</div>
                    </div>
                    <div class="calendar-grid" id="calendar-grid">
                        <!-- Takvim buraya dinamik olarak eklenecek -->
                    </div>
                </div>

                <div class="streak-info">
                    <h3>Seri Bilgileri</h3>
                    <div class="stat-row">
                        <span>Mevcut Seri:</span>
                        <span id="calendar-current-streak">0 gÃ¼n</span>
                    </div>
                    <div class="stat-row">
                        <span>En Ä°yi Seri:</span>
                        <span id="calendar-best-streak">0 gÃ¼n</span>
                    </div>
                    <div class="stat-row">
                        <span>Toplam Oyun GÃ¼nÃ¼:</span>
                        <span id="calendar-total-days">0</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- GÃ¼nlÃ¼k Vazifeler Modal -->
    <div id="tasks-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“‹ Vazifeler</h2>
                <button class="modal-close" onclick="closeModal('tasks-modal')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="tasks-section">
                    <h3>GÃ¼nlÃ¼k GÃ¶revler</h3>
                    <div class="tasks-list" id="daily-tasks-list">
                        <!-- GÃ¼nlÃ¼k gÃ¶revler buraya dinamik olarak eklenecek -->
                    </div>
                    <button class="btn-primary" id="claim-daily-reward" onclick="claimDailyRewards()" disabled>GÃ¼nlÃ¼k Ã–dÃ¼lÃ¼ Al (+2,500 Hasene)</button>
                </div>

                <div class="tasks-section">
                    <h3>HaftalÄ±k GÃ¶revler</h3>
                    <div class="tasks-list" id="weekly-tasks-list">
                        <!-- HaftalÄ±k gÃ¶revler buraya dinamik olarak eklenecek -->
                    </div>
                    <button class="btn-primary" id="claim-weekly-reward" onclick="claimWeeklyRewards()" disabled>HaftalÄ±k Ã–dÃ¼lÃ¼ Al (+5,000 Hasene)</button>
                </div>
            </div>
        </div>
    </div>

    <!-- GÃ¼nlÃ¼k Vird AyarlarÄ± Modal -->
    <div id="daily-goal-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ¯ GÃ¼nlÃ¼k Vird AyarlarÄ±</h2>
                <button class="modal-close" onclick="closeModal('daily-goal-modal')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="goal-levels">
                    <button class="goal-level-btn" data-level="easy">ğŸ˜Š Rahat (1,300 Hasene)</button>
                    <button class="goal-level-btn" data-level="normal">âš–ï¸ Normal (2,700 Hasene)</button>
                    <button class="goal-level-btn" data-level="hard">ğŸ”¥ Zor (5,400 Hasene)</button>
                    <button class="goal-level-btn" data-level="serious">ğŸ’ª Ciddi (6,000 Hasene)</button>
                </div>
                <div class="custom-goal">
                    <label>Ã–zel Hedef (100-10,000):</label>
                    <input type="number" id="custom-goal-input" min="100" max="10000" value="2700">
                    <button class="btn-primary" onclick="setCustomGoal()">Ayarla</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Oyun Sonu Modal -->
    <div id="game-result-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ‰ Oyun Bitti!</h2>
            </div>
            <div class="modal-body">
                <div class="result-stats">
                    <div class="result-item">
                        <span>âœ… DoÄŸru:</span>
                        <span id="result-correct">0</span>
                    </div>
                    <div class="result-item">
                        <span>âŒ YanlÄ±ÅŸ:</span>
                        <span id="result-wrong">0</span>
                    </div>
                    <div class="result-item">
                        <span>ğŸ’° KazanÄ±lan Hasene:</span>
                        <span id="result-xp">0</span>
                    </div>
                    <div class="result-item perfect-lesson" id="perfect-lesson-bonus" style="display:none;">
                        <span>â­ MÃ¼kemmel Ders Bonusu:</span>
                        <span id="perfect-bonus">0</span>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn-primary" onclick="restartGame()">Tekrar Oyna</button>
                    <button class="btn-secondary" onclick="goToMainMenu()">Ana MenÃ¼ye DÃ¶n</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Seviye Atlama Modal -->
    <div id="level-up-modal" class="modal" style="display:none;">
        <div class="modal-content level-up-content">
            <h2>ğŸ‰ Seviye AtladÄ±nÄ±z!</h2>
            <div class="level-display">
                <span class="old-level" id="old-level">1</span>
                <span>â†’</span>
                <span class="new-level" id="new-level">2</span>
            </div>
            <p class="level-name" id="level-name">MÃ¼terakki</p>
            <button class="btn-primary" onclick="closeModal('level-up-modal')">Harika!</button>
        </div>
    </div>

    <!-- BaÅŸarÄ±m Kazanma Modal -->
    <div id="achievement-modal" class="modal" style="display:none;">
        <div class="modal-content achievement-content">
            <h2>ğŸ† BaÅŸarÄ±m KazandÄ±nÄ±z!</h2>
            <img id="achievement-icon" src="" alt="BaÅŸarÄ±m" class="achievement-icon-image">
            <h3 id="achievement-title">BaÅŸarÄ±m AdÄ±</h3>
            <p id="achievement-desc">BaÅŸarÄ±m aÃ§Ä±klamasÄ±</p>
            <button class="btn-primary" onclick="closeModal('achievement-modal')">Harika!</button>
        </div>
    </div>

    <!-- DetaylÄ± Ä°statistikler Modal -->
    <div id="detailed-stats-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“Š DetaylÄ± Ä°statistikler</h2>
                <button class="modal-close" onclick="closeModal('detailed-stats-modal')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="stats-tabs">
                    <button class="tab-btn active" data-tab="daily">GÃ¼nlÃ¼k</button>
                    <button class="tab-btn" data-tab="weekly">HaftalÄ±k</button>
                    <button class="tab-btn" data-tab="monthly">AylÄ±k</button>
                    <button class="tab-btn" data-tab="words">Kelimeler</button>
                    <button class="tab-btn" data-tab="favorites">â­ Favoriler</button>
                </div>

                <div class="tab-content active" id="daily-stats-tab">
                    <h3>Son 7 GÃ¼n</h3>
                    <div id="daily-stats-content"></div>
                </div>

                <div class="tab-content" id="weekly-stats-tab" style="display:none;">
                    <h3>Son 4 Hafta</h3>
                    <div id="weekly-stats-content"></div>
                </div>

                <div class="tab-content" id="monthly-stats-tab" style="display:none;">
                    <h3>Son 3 Ay</h3>
                    <div id="monthly-stats-content"></div>
                </div>

                <div class="tab-content" id="words-stats-tab" style="display:none;">
                    <h3>Kelime Ä°statistikleri</h3>
                    <div id="words-stats-content"></div>
                </div>

                <div class="tab-content" id="favorites-stats-tab" style="display:none;">
                    <h3>â­ Favori Kelimeler</h3>
                    <div id="favorites-stats-content"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Oyun Bilgilendirme Modal -->
    <div id="game-info-modal" class="modal" style="display:none;">
        <div class="modal-content game-info-modal-content">
            <div class="modal-header">
                <h2>ğŸ“š Oyun Bilgileri</h2>
                <button class="close-btn" onclick="closeModal('game-info-modal')">Ã—</button>
            </div>
            <div class="modal-body game-info-body">
                <!-- Tab Navigation -->
                <div class="game-info-tabs">
                    <button class="info-tab-btn active" data-tab="how-to-play">NasÄ±l OynanÄ±r?</button>
                    <button class="info-tab-btn" data-tab="scoring">Puan Sistemi</button>
                    <button class="info-tab-btn" data-tab="combo">Combo</button>
                    <button class="info-tab-btn" data-tab="perfect">Perfect Bonus</button>
                    <button class="info-tab-btn" data-tab="stats">Ä°statistikler</button>
                </div>
                
                <!-- Tab Content -->
                <div class="game-info-content">
                    <!-- NasÄ±l OynanÄ±r? -->
                    <div class="info-tab-content active" id="how-to-play-tab">
                        <h3>ğŸ¯ NasÄ±l OynanÄ±r?</h3>
                        <div id="how-to-play-content">
                            <p>ArapÃ§a kelimenin TÃ¼rkÃ§e meÃ¢l karÅŸÄ±lÄ±ÄŸÄ±nÄ± bulun.</p>
                            <ul>
                                <li>4 seÃ§enekten birini seÃ§in</li>
                                <li>DoÄŸru cevap iÃ§in kelimenin zorluk seviyesine gÃ¶re Hasene kazanÄ±n (5-21 Hasene)</li>
                                <li>10 soru tamamlayÄ±n</li>
                                <li>ğŸ”¥ Combo bonusu iÃ§in ardÄ±ÅŸÄ±k 3 doÄŸru cevap verin (+5 Hasene)</li>
                                <li>â­ Perfect bonus iÃ§in tÃ¼m sorularÄ± doÄŸru cevaplayÄ±n (%50 ekstra puan)</li>
                                <li>Ä°pucu butonunu kullanarak yanlÄ±ÅŸ bir seÃ§eneÄŸi devre dÄ±ÅŸÄ± bÄ±rakabilirsiniz (her soruda 1 kez)</li>
                                <li>Ses butonunu kullanarak kelimeyi dinleyebilirsiniz</li>
                                <li>Oyunu istediÄŸiniz zaman "Geri" butonu ile Ã§Ä±kabilirsiniz</li>
                            </ul>
                            <p style="margin-top: 12px; font-size: 0.9rem; color: var(--text-secondary);">
                                ğŸ’¡ <strong>Ekstra KazanÃ§lar:</strong> GÃ¼nlÃ¼k virdinizi tamamlayarak +1,000 Hasene, 
                                gÃ¼nlÃ¼k gÃ¶revleri tamamlayarak +2,500 Hasene, haftalÄ±k gÃ¶revleri tamamlayarak +5,000 Hasene kazanabilirsiniz!
                            </p>
                            <p style="margin-top: 12px; font-size: 0.9rem; color: var(--text-secondary);">
                                ğŸ’¡ <strong>Ä°pucu:</strong> Oyunu yarÄ±m bÄ±raksanÄ±z bile kazandÄ±ÄŸÄ±nÄ±z puanlar kaydedilir. 
                                Ancak oyun sayÄ±sÄ± sadece 10 soruyu tamamladÄ±ÄŸÄ±nÄ±zda artar. 
                                DetaylÄ± bilgi iÃ§in "Ä°statistikler" tab'Ä±na bakÄ±n.
                            </p>
                        </div>
                    </div>
                    
                    <!-- Puan Sistemi -->
                    <div class="info-tab-content" id="scoring-tab">
                        <h3>ğŸ’° Puan Sistemi</h3>
                        <div class="info-item">
                            <strong>âœ… DoÄŸru Cevap (Kelime Ã‡evir & Dinle Bul):</strong> Kelimenin zorluk seviyesine gÃ¶re 5-21 Hasene
                            <p style="margin-top: 8px; font-size: 0.9rem; color: var(--text-secondary);">
                                â€¢ Kolay kelimeler: 5-8 Hasene<br>
                                â€¢ Orta kelimeler: 9-12 Hasene<br>
                                â€¢ Zor kelimeler: 13-21 Hasene
                            </p>
                        </div>
                        <div class="info-item">
                            <strong>âœ… DoÄŸru Cevap (BoÅŸluk Doldur):</strong> Ayetin uzunluÄŸuna gÃ¶re Hasene
                            <p style="margin-top: 8px; font-size: 0.9rem; color: var(--text-secondary);">
                                â€¢ KÄ±sa ayetler (1-6 kelime): 10 Hasene<br>
                                â€¢ Orta ayetler (7-12 kelime): 15 Hasene<br>
                                â€¢ Uzun ayetler (13+ kelime): 20 Hasene
                            </p>
                        </div>
                        <div class="info-item">
                            <strong>âŒ YanlÄ±ÅŸ Cevap:</strong> 0 Hasene (puan kaybÄ± yok)
                        </div>
                        <div class="info-item">
                            <strong>ğŸ”¥ Combo Bonusu:</strong> Her 3 doÄŸru cevapta +5 Hasene
                        </div>
                        <div class="info-item">
                            <strong>â­ Perfect Bonus:</strong> TÃ¼m sorular doÄŸruysa %50 ekstra puan
                        </div>
                        <div class="info-item">
                            <strong>ğŸ¯ GÃ¼nlÃ¼k Vird Bonusu:</strong> GÃ¼nlÃ¼k virdinizi tamamladÄ±ÄŸÄ±nÄ±zda +1,000 Hasene
                        </div>
                        <div class="info-item">
                            <strong>ğŸ“‹ GÃ¼nlÃ¼k GÃ¶rev Ã–dÃ¼lÃ¼:</strong> TÃ¼m gÃ¼nlÃ¼k gÃ¶revleri tamamladÄ±ÄŸÄ±nÄ±zda +2,500 Hasene
                        </div>
                        <div class="info-item">
                            <strong>ğŸ“‹ HaftalÄ±k GÃ¶rev Ã–dÃ¼lÃ¼:</strong> TÃ¼m haftalÄ±k gÃ¶revleri tamamladÄ±ÄŸÄ±nÄ±zda +5,000 Hasene
                        </div>
                    </div>
                    
                    <!-- Combo -->
                    <div class="info-tab-content" id="combo-tab">
                        <h3>ğŸ”¥ Combo Sistemi</h3>
                        <p>ArdÄ±ÅŸÄ±k doÄŸru cevaplar combo oluÅŸturur.</p>
                        <ul>
                            <li>Her doÄŸru cevap combo sayÄ±sÄ±nÄ± artÄ±rÄ±r</li>
                            <li>YanlÄ±ÅŸ cevap combo'yu sÄ±fÄ±rlar</li>
                            <li>Her 3 doÄŸru cevapta combo bonusu verilir (+5 Hasene)</li>
                            <li>Maksimum combo takip edilir ve rozetler iÃ§in kullanÄ±lÄ±r</li>
                        </ul>
                    </div>
                    
                    <!-- Perfect Bonus -->
                    <div class="info-tab-content" id="perfect-tab">
                        <h3>ğŸ¯ Perfect Bonus</h3>
                        <p>TÃ¼m sorularÄ± doÄŸru cevapladÄ±ÄŸÄ±nÄ±zda perfect bonus kazanÄ±rsÄ±nÄ±z.</p>
                        <ul>
                            <li><strong>KoÅŸul:</strong> TÃ¼m 10 soru doÄŸru cevaplanmalÄ±, hiÃ§ yanlÄ±ÅŸ cevap olmamalÄ±</li>
                            <li><strong>Bonus:</strong> Session skorunun %50'si ekstra Hasene (Math.floor ile yuvarlanÄ±r)</li>
                            <li><strong>Ã–rnek:</strong> 100 Hasene kazandÄ±ysanÄ±z â†’ 50 Hasene ekstra = 150 Hasene toplam</li>
                            <li><strong>Not:</strong> Perfect bonus sadece oyun tamamlandÄ±ÄŸÄ±nda (10 soru bittikten sonra) verilir</li>
                        </ul>
                        
                        <h4 style="margin-top: 24px;">ğŸ DiÄŸer Bonuslar</h4>
                        <ul>
                            <li><strong>ğŸ¯ GÃ¼nlÃ¼k Vird Bonusu:</strong> GÃ¼nlÃ¼k virdinizi tamamladÄ±ÄŸÄ±nÄ±zda otomatik olarak +1,000 Hasene kazanÄ±rsÄ±nÄ±z</li>
                            <li><strong>ğŸ“‹ GÃ¼nlÃ¼k GÃ¶rev Ã–dÃ¼lÃ¼:</strong> TÃ¼m gÃ¼nlÃ¼k gÃ¶revleri tamamladÄ±ÄŸÄ±nÄ±zda "GÃ¼nlÃ¼k Ã–dÃ¼lÃ¼ Al" butonuna tÄ±klayarak +2,500 Hasene kazanabilirsiniz</li>
                            <li><strong>ğŸ“‹ HaftalÄ±k GÃ¶rev Ã–dÃ¼lÃ¼:</strong> TÃ¼m haftalÄ±k gÃ¶revleri tamamladÄ±ÄŸÄ±nÄ±zda "HaftalÄ±k Ã–dÃ¼lÃ¼ Al" butonuna tÄ±klayarak +5,000 Hasene kazanabilirsiniz</li>
                        </ul>
                    </div>
                    
                    <!-- Ä°statistikler -->
                    <div class="info-tab-content" id="stats-tab">
                        <h3>ğŸ“Š Ä°statistikler ve Oyun Durumu</h3>
                        
                        <h4>ğŸ® Oyun TamamlanÄ±rsa (10 Soru Bittikten Sonra):</h4>
                        <div class="info-item" style="margin-top: 12px;">
                            <ul>
                                <li><strong>âœ… Puanlar kaydedilir:</strong> KazandÄ±ÄŸÄ±nÄ±z tÃ¼m Hasene puanlarÄ± global puanlarÄ±nÄ±za eklenir</li>
                                <li><strong>âœ… Ä°statistikler gÃ¼ncellenir:</strong> DoÄŸru ve yanlÄ±ÅŸ cevap sayÄ±larÄ± kaydedilir</li>
                                <li><strong>âœ… Oyun sayÄ±sÄ± artÄ±rÄ±lÄ±r:</strong> OynadÄ±ÄŸÄ±nÄ±z oyun modunun sayacÄ± 1 artar</li>
                                <li><strong>âœ… Perfect bonus verilir:</strong> TÃ¼m sorularÄ± doÄŸru cevapladÄ±ysanÄ±z %50 ekstra puan kazanÄ±rsÄ±nÄ±z</li>
                                <li><strong>âœ… GÃ¶revler gÃ¼ncellenir:</strong> GÃ¼nlÃ¼k ve haftalÄ±k gÃ¶revlerde ilerleme kaydedilir</li>
                                <li><strong>âœ… Rozetler kontrol edilir:</strong> Yeni rozetler kazanabilirsiniz</li>
                            </ul>
                        </div>
                        
                        <h4>â¸ï¸ Oyun YarÄ±m BÄ±rakÄ±lÄ±rsa (1 veya BirkaÃ§ Soru Sonra Ã‡Ä±kÄ±lÄ±rsa):</h4>
                        <div class="info-item" style="margin-top: 12px;">
                            <ul>
                                <li><strong>âœ… Puanlar kaydedilir:</strong> O ana kadar kazandÄ±ÄŸÄ±nÄ±z Hasene puanlarÄ± kaydedilir</li>
                                <li><strong>âœ… Ä°statistikler gÃ¼ncellenir:</strong> DoÄŸru ve yanlÄ±ÅŸ cevap sayÄ±larÄ± kaydedilir</li>
                                <li><strong>âŒ Oyun sayÄ±sÄ± artÄ±rÄ±lmaz:</strong> Oyun tamamlanmadÄ±ÄŸÄ± iÃ§in oyun sayacÄ± artmaz</li>
                                <li><strong>âŒ Perfect bonus verilmez:</strong> Oyun bitmeden Ã§Ä±kÄ±ldÄ±ÄŸÄ± iÃ§in perfect bonus verilmez</li>
                                <li><strong>âœ… GÃ¶revler gÃ¼ncellenir:</strong> CevapladÄ±ÄŸÄ±nÄ±z sorular gÃ¶revlerde ilerleme saÄŸlar</li>
                                <li><strong>âœ… Rozetler kontrol edilir:</strong> KazandÄ±ÄŸÄ±nÄ±z puanlarla ilgili rozetler kontrol edilir</li>
                            </ul>
                            <p style="margin-top: 12px; font-size: 0.9rem; color: var(--text-secondary); font-style: italic;">
                                ğŸ’¡ <strong>Not:</strong> YarÄ±m bÄ±rakÄ±lan oyunlarda puanlarÄ±nÄ±z kaybolmaz, ancak oyun tamamlanmÄ±ÅŸ sayÄ±lmaz. 
                                Oyun sayÄ±sÄ± istatistiÄŸi sadece 10 soruyu tamamladÄ±ÄŸÄ±nÄ±zda artar.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Veri Durumu Modal -->
    <div id="data-status-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ’¾ Veri Durumu</h2>
                <button class="modal-close" onclick="closeModal('data-status-modal')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="data-status-section">
                    <h3>IndexedDB Durumu</h3>
                    <p id="indexeddb-status">Kontrol ediliyor...</p>
                </div>

                <div class="data-status-section">
                    <h3>localStorage Durumu</h3>
                    <p id="localstorage-status">Kontrol ediliyor...</p>
                </div>

                <div class="data-status-section">
                    <h3>GÃ¼nlÃ¼k GÃ¶revler</h3>
                    <div id="daily-tasks-status"></div>
                </div>

                <div class="data-status-section">
                    <h3>HaftalÄ±k GÃ¶revler</h3>
                    <div id="weekly-tasks-status"></div>
                </div>

                <div class="data-status-section">
                    <h3>Streak Durumu</h3>
                    <div id="streak-status"></div>
                </div>

                <div class="modal-actions">
                    <button class="btn-danger" onclick="resetAllStats()">TÃ¼m Verileri SÄ±fÄ±rla</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/constants.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/indexeddb-cache.js"></script>
    <script src="js/data-loader.js"></script>
    <script src="js/error-handler.js"></script>
    <!-- API Client (Backend Integration) -->
    <script src="js/api-client.js"></script>
    <script src="js/auth-ui.js"></script>
    <!-- Yeni modÃ¼ler yapÄ± -->
    <script src="js/audio-manager.js"></script>
    <script src="js/points-manager.js"></script>
    <script src="js/word-stats-manager.js"></script>
    <script src="js/favorites-manager.js"></script>
    <!-- Ana oyun mantÄ±ÄŸÄ± -->
    <script src="js/badge-visualization.js"></script>
    <script src="js/game-core.js"></script>
    <script src="js/detailed-stats.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/onboarding.js"></script>

    <!-- Service Worker Registration & PWA Install -->
    <script>
        let deferredPrompt;
        const pwaInstallBanner = document.getElementById('pwa-install-banner');
        const pwaInstallBtn = document.getElementById('pwa-install-btn');
        const pwaInstallClose = document.getElementById('pwa-install-close');
        
        // PWA yÃ¼kleme prompt'unu yakala
        window.addEventListener('beforeinstallprompt', (e) => {
            // VarsayÄ±lan prompt'u engelle
            e.preventDefault();
            // Event'i sakla
            deferredPrompt = e;
            
            // Banner'Ä± gÃ¶ster (eÄŸer daha Ã¶nce kapatÄ±lmadÄ±ysa)
            const installBannerDismissed = localStorage.getItem('pwa-install-banner-dismissed');
            if (!installBannerDismissed) {
                pwaInstallBanner.style.display = 'block';
            }
        });
        
        // YÃ¼kle butonuna tÄ±klandÄ±ÄŸÄ±nda
        if (pwaInstallBtn) {
            pwaInstallBtn.addEventListener('click', async () => {
                if (!deferredPrompt) {
                    // iOS iÃ§in manuel talimat gÃ¶ster
                    if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {
                        alert('iOS\'ta yÃ¼klemek iÃ§in:\n1. Safari\'nin paylaÅŸ butonuna (â¬†ï¸) tÄ±klayÄ±n\n2. "Ana Ekrana Ekle" seÃ§eneÄŸini seÃ§in');
                        return;
                    }
                    return;
                }
                
                // Prompt'u gÃ¶ster
                deferredPrompt.prompt();
                
                // KullanÄ±cÄ±nÄ±n seÃ§imini bekle
                const { outcome } = await deferredPrompt.userChoice;
                
                // KullanÄ±cÄ± seÃ§imi iÅŸlendi
                
                // Prompt'u temizle
                deferredPrompt = null;
                pwaInstallBanner.style.display = 'none';
            });
        }
        
        // Kapat butonuna tÄ±klandÄ±ÄŸÄ±nda
        if (pwaInstallClose) {
            pwaInstallClose.addEventListener('click', () => {
                pwaInstallBanner.style.display = 'none';
                localStorage.setItem('pwa-install-banner-dismissed', 'true');
            });
        }
        
        // PWA zaten yÃ¼klÃ¼yse banner'Ä± gÃ¶sterme
        if (window.matchMedia('(display-mode: standalone)').matches) {
            if (pwaInstallBanner) {
                pwaInstallBanner.style.display = 'none';
            }
        }
        
        // Service Worker kaydÄ±
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js', { scope: './' })
                    .catch(err => {
                        if (CONFIG && CONFIG.DEBUG) {
                            console.error('Service Worker registration failed:', err);
                        }
                    });
            });
        }
    </script>
    
</body>
</html>

